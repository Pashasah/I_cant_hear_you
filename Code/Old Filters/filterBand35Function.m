function y = filterBand35Function(x)
%FILTERBAND35FUNCTION Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.4 and DSP System Toolbox 9.6.
% Generated on: 18-Jul-2018 12:01:41

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 40000;  % Sampling Frequency
    %
    % Fstop1 = 2500;            % First Stopband Frequency
    % Fpass1 = 2820;            % First Passband Frequency
    % Fpass2 = 3550;            % Second Passband Frequency
    % Fstop2 = 4000;            % Second Stopband Frequency
    % Dstop1 = 0.001;           % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.001;           % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.000797815066880753 0.000439648685865415 ...
        0.000348198005343281 8.62723823409152e-05 -0.000310507580251966 ...
        -0.000748673243139521 -0.00109239724170643 -0.0012019176894117 ...
        -0.00098106853344434 -0.000420512465705085 0.000383220217302856 ...
        0.00123450203543189 0.00188339794779527 0.00209846971977466 ...
        0.00173843947456348 0.000815990913651312 -0.000485451732738997 ...
        -0.00184184904673903 -0.00286859370816744 -0.00323058889676944 ...
        -0.00274747776304415 -0.00146574536587785 0.000332355875577607 ...
        0.00218939836083056 0.00359360190270555 0.00412320760926701 ...
        0.00357846616756285 0.00205128414786054 -8.30190262980538e-05 ...
        -0.00226358859496454 -0.00389782772020605 -0.00453329154008074 ...
        -0.00399092514371312 -0.00242211932513095 -0.000265507928009932 ...
        0.00188044413345945 0.00343575622495628 0.00400859255610464 ...
        0.00350703759055437 0.00215513180482293 0.000410411486095307 ...
        -0.00119085245130617 -0.00220741193358733 -0.00243024089278858 ...
        -0.00193455200713408 -0.00103351181284611 -0.000147495304381685 ...
        0.000360436258464243 0.000326119807291236 -0.00015290930295224 ...
        -0.00075535105251679 -0.00106791077805393 -0.000760085798334954 ...
        0.000257987710861356 0.00176201766732901 0.00325507087981097 ...
        0.0041236964447434 0.003857529566803 0.00226125809252779 ...
        -0.000423203965087031 -0.00353400527384278 -0.006158541848387 ...
        -0.00740714068194236 -0.0067106823995428 -0.0040403344589175 ...
        2.85297892694342e-05 0.00444417366077059 0.00796797875817006 ...
        0.00954440268984402 0.00863372300056293 0.00540111810978612 ...
        0.000691946841656717 -0.00420467986607535 -0.00793791226638998 ...
        -0.00950190938220025 -0.00853978815797257 -0.00544255359020973 ...
        -0.00121202664601096 0.0028717688303391 0.00566592749773255 ...
        0.00652687588779382 0.00549403073233303 0.00323491066207047 ...
        0.000768759685101226 -0.000930736450154914 -0.00131261684978005 ...
        -0.000462743859383973 0.000928536553856946 0.00184598242657964 ...
        0.00138073279444985 -0.000841633984197011 -0.00440498060276784 ...
        -0.00813434579160303 -0.0104380056046059 -0.00986676842924066 ...
        -0.00571103799701404 0.00158077099426618 0.0103365637317967 ...
        0.0180202119668709 0.0219467492867992 0.0201559222053019 ...
        0.0121684480172868 -0.000638628615573717 -0.0152067971310486 ...
        -0.0275249436853187 -0.0337414567966291 -0.0313472949564447 ...
        -0.0200703160961587 -0.00217799112656908 0.0179531089545965 ...
        0.0349308045243706 0.0438240082053848 0.0416107927043277 ...
        0.0281667206492881 0.00647657371839121 -0.0180351074977876 ...
        -0.0389034871155461 -0.0503812217773079 -0.0490630730569168 ...
        -0.0349075194432773 -0.0113451812160603 0.0155805279616249 ...
        0.0388182953542383 0.0522193173507661 0.0522193173507661 ...
        0.0388182953542383 0.0155805279616249 -0.0113451812160603 ...
        -0.0349075194432773 -0.0490630730569168 -0.0503812217773079 ...
        -0.0389034871155461 -0.0180351074977876 0.00647657371839121 ...
        0.0281667206492881 0.0416107927043277 0.0438240082053848 ...
        0.0349308045243706 0.0179531089545965 -0.00217799112656908 ...
        -0.0200703160961587 -0.0313472949564447 -0.0337414567966291 ...
        -0.0275249436853187 -0.0152067971310486 -0.000638628615573717 ...
        0.0121684480172868 0.0201559222053019 0.0219467492867992 ...
        0.0180202119668709 0.0103365637317967 0.00158077099426618 ...
        -0.00571103799701404 -0.00986676842924066 -0.0104380056046059 ...
        -0.00813434579160303 -0.00440498060276784 -0.000841633984197011 ...
        0.00138073279444985 0.00184598242657964 0.000928536553856946 ...
        -0.000462743859383973 -0.00131261684978005 -0.000930736450154914 ...
        0.000768759685101226 0.00323491066207047 0.00549403073233303 ...
        0.00652687588779382 0.00566592749773255 0.0028717688303391 ...
        -0.00121202664601096 -0.00544255359020973 -0.00853978815797257 ...
        -0.00950190938220025 -0.00793791226638998 -0.00420467986607535 ...
        0.000691946841656717 0.00540111810978612 0.00863372300056293 ...
        0.00954440268984402 0.00796797875817006 0.00444417366077059 ...
        2.85297892694342e-05 -0.0040403344589175 -0.0067106823995428 ...
        -0.00740714068194236 -0.006158541848387 -0.00353400527384278 ...
        -0.000423203965087031 0.00226125809252779 0.003857529566803 ...
        0.0041236964447434 0.00325507087981097 0.00176201766732901 ...
        0.000257987710861356 -0.000760085798334954 -0.00106791077805393 ...
        -0.00075535105251679 -0.00015290930295224 0.000326119807291236 ...
        0.000360436258464243 -0.000147495304381685 -0.00103351181284611 ...
        -0.00193455200713408 -0.00243024089278858 -0.00220741193358733 ...
        -0.00119085245130617 0.000410411486095307 0.00215513180482293 ...
        0.00350703759055437 0.00400859255610464 0.00343575622495628 ...
        0.00188044413345945 -0.000265507928009932 -0.00242211932513095 ...
        -0.00399092514371312 -0.00453329154008074 -0.00389782772020605 ...
        -0.00226358859496454 -8.30190262980538e-05 0.00205128414786054 ...
        0.00357846616756285 0.00412320760926701 0.00359360190270555 ...
        0.00218939836083056 0.000332355875577607 -0.00146574536587785 ...
        -0.00274747776304415 -0.00323058889676944 -0.00286859370816744 ...
        -0.00184184904673903 -0.000485451732738997 0.000815990913651312 ...
        0.00173843947456348 0.00209846971977466 0.00188339794779527 ...
        0.00123450203543189 0.000383220217302856 -0.000420512465705085 ...
        -0.00098106853344434 -0.0012019176894117 -0.00109239724170643 ...
        -0.000748673243139521 -0.000310507580251966 8.62723823409152e-05 ...
        0.000348198005343281 0.000439648685865415 0.000797815066880753]);
end

y = step(Hd,double(x));


% [EOF]
