function y = filterBand34Function(x)
%FILTERBAND34FUNCTION Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.4 and DSP System Toolbox 9.6.
% Generated on: 18-Jul-2018 12:01:23

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 40000;  % Sampling Frequency
    %
    % Fstop1 = 2000;            % First Stopband Frequency
    % Fpass1 = 2240;            % First Passband Frequency
    % Fpass2 = 2820;            % Second Passband Frequency
    % Fstop2 = 3150;            % Second Stopband Frequency
    % Dstop1 = 0.001;           % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.001;           % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000740842633721145 -0.00033056224944164 ...
        -0.000308802079791172 -0.000209958156495947 -3.54150031912457e-05 ...
        0.000195902837225432 0.000449478855675293 0.000678616527801412 ...
        0.000832788278953137 0.000866053361123377 0.00074929959748174 ...
        0.000477932678802017 7.73813778491905e-05 -0.000399570209667111 ...
        -0.00087406338623907 -0.00125863829104595 -0.00147008133517122 ...
        -0.0014454008661599 -0.00115961203201336 -0.000631658305555112 ...
        7.13819048469609e-05 0.000843712626401601 0.00155480284802092 ...
        0.00207251529645221 0.00228680124772798 0.00213263501136225 ...
        0.00160504033604445 0.000766150308383 -0.00026185825119033 ...
        -0.00131470263954978 -0.00221205800744686 -0.00279043445761654 ...
        -0.00293278122197355 -0.00259266277706142 -0.00180596834898131 ...
        -0.000688264305918886 0.000582357160216817 0.00179529616045516 ...
        0.00274371974689994 0.00326187019966226 0.00325566447026289 ...
        0.00272114068654794 0.00174585127985343 0.000494779487818076 ...
        -0.000819659916964276 -0.00197555190842471 -0.00278174857527186 ...
        -0.00311227308908588 -0.00292806789574835 -0.00228257263248645 ...
        -0.00130912018058937 -0.00019369817418034 0.000862001112302801 ...
        0.00167970517542966 0.00213790563321084 0.00219249255582573 ...
        0.00188128953477264 0.00131119449930921 0.000631126761440118 ...
        -2.68038727141927e-06 -0.000462310085224285 -0.000675628804110443 ...
        -0.000640718977491611 -0.000422890674629669 -0.000135747606071822 ...
        8.97569949856377e-05 0.000141174307572586 -4.32244283165156e-05 ...
        -0.000453885772651189 -0.00100628839248588 -0.00155612168819029 ...
        -0.00193104003943943 -0.00197203434757642 -0.0015759882824284 ...
        -0.000728906418320095 0.000478206853785005 0.00185614531552708 ...
        0.00314752048380803 0.00407479137460258 0.00439792515511496 ...
        0.00396937610326778 0.00277468010716203 0.000948734301068812 ...
        -0.00123723605083368 -0.00341784232456414 -0.00519760287140834 ...
        -0.00622569837599687 -0.00626657021497303 -0.0052520154623192 ...
        -0.00330346667964913 -0.000718219380348078 0.00207875185715889 ...
        0.00460970120569627 0.00643167466492029 0.00721987042728266 ...
        0.00683036875157933 0.00532931202655519 0.00298207865635286 ...
        0.000203962018789198 -0.00251832313884504 -0.00471912349392607 ...
        -0.00604163761279567 -0.00630374509458323 -0.00552804602680693 ...
        -0.00393052621957432 -0.00187005732115596 0.000230467644435506 ...
        0.00197441285220782 0.00307390187679085 0.00340659101727113 ...
        0.00303435006930971 0.0021796554826401 0.00116493571227139 ...
        0.000328345006404277 -6.46022223669075e-05 0.000107021659068444 ...
        0.00078196289071246 0.00172395362315511 0.00257419071981991 ...
        0.00293953398374341 0.00249730779287924 0.00109316561971417 ...
        -0.00119215812150748 -0.00402576988546277 -0.00686415660338304 ...
        -0.00904965568128017 -0.0099457276682351 -0.00908468687482415 ...
        -0.00629668787473627 -0.00178982668568981 0.00384099213857773 ...
        0.00968541413635015 0.01466268675958 0.0177174058970836 ...
        0.0180310543368753 0.0152080825423602 0.00939704396367301 ...
        0.00131731765614928 -0.00782180888782679 -0.0165025656881987 ...
        -0.0231535151002975 -0.0264344699689282 -0.0254996882540657 ...
        -0.0201881077627686 -0.0111005520383131 0.000457685564723456 ...
        0.0126659394839449 0.0234814742183635 0.0309888023319996 ...
        0.0337439107282267 0.0310508159776647 0.0231173073675378 ...
        0.0110569400196305 -0.00326899776710709 -0.0175469332571733 ...
        -0.0293957405013621 -0.0367749004335692 -0.0383444874726891 ...
        -0.033711998451486 -0.0235199238636144 -0.00935562086041636 ...
        0.00650397156957069 0.02147021181151 0.0330788230552582 ...
        0.0394084209113652 0.0394084209113652 0.0330788230552582 ...
        0.02147021181151 0.00650397156957069 -0.00935562086041636 ...
        -0.0235199238636144 -0.033711998451486 -0.0383444874726891 ...
        -0.0367749004335692 -0.0293957405013621 -0.0175469332571733 ...
        -0.00326899776710709 0.0110569400196305 0.0231173073675378 ...
        0.0310508159776647 0.0337439107282267 0.0309888023319996 ...
        0.0234814742183635 0.0126659394839449 0.000457685564723456 ...
        -0.0111005520383131 -0.0201881077627686 -0.0254996882540657 ...
        -0.0264344699689282 -0.0231535151002975 -0.0165025656881987 ...
        -0.00782180888782679 0.00131731765614928 0.00939704396367301 ...
        0.0152080825423602 0.0180310543368753 0.0177174058970836 ...
        0.01466268675958 0.00968541413635015 0.00384099213857773 ...
        -0.00178982668568981 -0.00629668787473627 -0.00908468687482415 ...
        -0.0099457276682351 -0.00904965568128017 -0.00686415660338304 ...
        -0.00402576988546277 -0.00119215812150748 0.00109316561971417 ...
        0.00249730779287924 0.00293953398374341 0.00257419071981991 ...
        0.00172395362315511 0.00078196289071246 0.000107021659068444 ...
        -6.46022223669075e-05 0.000328345006404277 0.00116493571227139 ...
        0.0021796554826401 0.00303435006930971 0.00340659101727113 ...
        0.00307390187679085 0.00197441285220782 0.000230467644435506 ...
        -0.00187005732115596 -0.00393052621957432 -0.00552804602680693 ...
        -0.00630374509458323 -0.00604163761279567 -0.00471912349392607 ...
        -0.00251832313884504 0.000203962018789198 0.00298207865635286 ...
        0.00532931202655519 0.00683036875157933 0.00721987042728266 ...
        0.00643167466492029 0.00460970120569627 0.00207875185715889 ...
        -0.000718219380348078 -0.00330346667964913 -0.0052520154623192 ...
        -0.00626657021497303 -0.00622569837599687 -0.00519760287140834 ...
        -0.00341784232456414 -0.00123723605083368 0.000948734301068812 ...
        0.00277468010716203 0.00396937610326778 0.00439792515511496 ...
        0.00407479137460258 0.00314752048380803 0.00185614531552708 ...
        0.000478206853785005 -0.000728906418320095 -0.0015759882824284 ...
        -0.00197203434757642 -0.00193104003943943 -0.00155612168819029 ...
        -0.00100628839248588 -0.000453885772651189 -4.32244283165156e-05 ...
        0.000141174307572586 8.97569949856377e-05 -0.000135747606071822 ...
        -0.000422890674629669 -0.000640718977491611 -0.000675628804110443 ...
        -0.000462310085224285 -2.68038727141927e-06 0.000631126761440118 ...
        0.00131119449930921 0.00188128953477264 0.00219249255582573 ...
        0.00213790563321084 0.00167970517542966 0.000862001112302801 ...
        -0.00019369817418034 -0.00130912018058937 -0.00228257263248645 ...
        -0.00292806789574835 -0.00311227308908588 -0.00278174857527186 ...
        -0.00197555190842471 -0.000819659916964276 0.000494779487818076 ...
        0.00174585127985343 0.00272114068654794 0.00325566447026289 ...
        0.00326187019966226 0.00274371974689994 0.00179529616045516 ...
        0.000582357160216817 -0.000688264305918886 -0.00180596834898131 ...
        -0.00259266277706142 -0.00293278122197355 -0.00279043445761654 ...
        -0.00221205800744686 -0.00131470263954978 -0.00026185825119033 ...
        0.000766150308383 0.00160504033604445 0.00213263501136225 ...
        0.00228680124772798 0.00207251529645221 0.00155480284802092 ...
        0.000843712626401601 7.13819048469609e-05 -0.000631658305555112 ...
        -0.00115961203201336 -0.0014454008661599 -0.00147008133517122 ...
        -0.00125863829104595 -0.00087406338623907 -0.000399570209667111 ...
        7.73813778491905e-05 0.000477932678802017 0.00074929959748174 ...
        0.000866053361123377 0.000832788278953137 0.000678616527801412 ...
        0.000449478855675293 0.000195902837225432 -3.54150031912457e-05 ...
        -0.000209958156495947 -0.000308802079791172 -0.00033056224944164 ...
        -0.000740842633721145]);
end

y = step(Hd,double(x));


% [EOF]
