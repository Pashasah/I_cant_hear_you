function y = filterBand38Function(x)
%FILTERBAND38FUNCTION Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.4 and DSP System Toolbox 9.6.
% Generated on: 17-Jul-2018 15:54:18

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 40000;  % Sampling Frequency
    %
    % Fstop1 = 5000;            % First Stopband Frequency
    % Fpass1 = 5620;            % First Passband Frequency
    % Fpass2 = 7080;            % Second Passband Frequency
    % Fstop2 = 8000;            % Second Stopband Frequency
    % Dstop1 = 0.001;           % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.001;           % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000505817708637501 0.000652374776387631 ...
        0.00138491325464227 0.00103159135328443 -0.000854447707999755 ...
        -0.00272346328799937 -0.00217087035621096 0.00123246609478161 ...
        0.00453827034869671 0.00383423921892666 -0.0013152243502928 ...
        -0.00633831776009568 -0.00570419863544771 0.000976731570269786 ...
        0.00757667667181019 0.00723684972810768 -0.000257072489539689 ...
        -0.0076871750379118 -0.00769662107885683 -0.00054261056040202 ...
        0.00630505613761659 0.0063694404096583 0.000894500733896129 ...
        -0.00346562869944194 -0.00285548311617622 -0.000206799163273467 ...
        -0.000306101461860593 -0.00265239329231897 -0.00190092038023695 ...
        0.0040803021941386 0.00921135448821294 0.00530127514529598 ...
        -0.00678783476816557 -0.0151976370360985 -0.00915348589037183 ...
        0.00760353075813684 0.0186306309893958 0.0119162209066682 ...
        -0.00632182917392883 -0.017698647128874 -0.0116266065843527 ...
        0.00356921787078523 0.0113444498129706 0.0064203736646936 ...
        -0.000749780064996758 0.000281327691169168 0.00483709696551132 ...
        -0.000311801689777365 -0.0156690408812275 -0.0220107494581671 ...
        -0.00205681836703811 0.0321915386601457 0.043442937829746 ...
        0.00876051627346678 -0.0467035384554711 -0.0661165265713704 ...
        -0.0194903173846991 0.0563415890624138 0.0862405454409039 ...
        0.0326219468528286 -0.0592863943038177 -0.100120700277842 ...
        -0.0455308271490264 0.0552495111420678 0.105073595269905 ...
        0.0552495111420678 -0.0455308271490264 -0.100120700277842 ...
        -0.0592863943038177 0.0326219468528286 0.0862405454409039 ...
        0.0563415890624138 -0.0194903173846991 -0.0661165265713704 ...
        -0.0467035384554711 0.00876051627346678 0.043442937829746 ...
        0.0321915386601457 -0.00205681836703811 -0.0220107494581671 ...
        -0.0156690408812275 -0.000311801689777365 0.00483709696551132 ...
        0.000281327691169168 -0.000749780064996758 0.0064203736646936 ...
        0.0113444498129706 0.00356921787078523 -0.0116266065843527 ...
        -0.017698647128874 -0.00632182917392883 0.0119162209066682 ...
        0.0186306309893958 0.00760353075813684 -0.00915348589037183 ...
        -0.0151976370360985 -0.00678783476816557 0.00530127514529598 ...
        0.00921135448821294 0.0040803021941386 -0.00190092038023695 ...
        -0.00265239329231897 -0.000306101461860593 -0.000206799163273467 ...
        -0.00285548311617622 -0.00346562869944194 0.000894500733896129 ...
        0.0063694404096583 0.00630505613761659 -0.00054261056040202 ...
        -0.00769662107885683 -0.0076871750379118 -0.000257072489539689 ...
        0.00723684972810768 0.00757667667181019 0.000976731570269786 ...
        -0.00570419863544771 -0.00633831776009568 -0.0013152243502928 ...
        0.00383423921892666 0.00453827034869671 0.00123246609478161 ...
        -0.00217087035621096 -0.00272346328799937 -0.000854447707999755 ...
        0.00103159135328443 0.00138491325464227 0.000652374776387631 ...
        -0.000505817708637501]);
end

y = step(Hd,double(x));


% [EOF]
