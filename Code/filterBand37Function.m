function y = filterBand37Function(x)
%FILTERBAND37FUNCTION Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.4 and DSP System Toolbox 9.6.
% Generated on: 18-Jul-2018 12:02:30

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 40000;  % Sampling Frequency
    %
    % Fstop1 = 4000;            % First Stopband Frequency
    % Fpass1 = 4470;            % First Passband Frequency
    % Fpass2 = 5620;            % Second Passband Frequency
    % Fstop2 = 6300;            % Second Stopband Frequency
    % Dstop1 = 0.001;           % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.001;           % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.000206907161252588 -0.000848565318337091 ...
        -0.000920601344727944 -0.000605664639244076 0.000321622229672623 ...
        0.00142704525747207 0.00189032466406618 0.00108894148423492 ...
        -0.000807806024390072 -0.00271463993580872 -0.00321447344643007 ...
        -0.00156702894186104 0.00155760544494842 0.00426178323604785 ...
        0.00457069867071805 0.00186020908560432 -0.00247112036454263 ...
        -0.0057052363889199 -0.00555834697592745 -0.00182645299013494 ...
        0.00328714314726872 0.00652242874449643 0.00574267168724788 ...
        0.00143036301519591 -0.00360612394828739 -0.00615531675485322 ...
        -0.00479840607074337 -0.000791183539482887 0.0029882153703272 ...
        0.00420087570072861 0.00265793018293046 0.00017766805159929 ...
        -0.00111729947269276 -0.000613431604496047 0.000396822721128097 ...
        7.7374496885481e-05 -0.00201092384745905 -0.00415079938229163 ...
        -0.00374281213516307 0.000281076788191381 0.00593824454073141 ...
        0.009110960582999 0.00654359612988034 -0.00126506656386963 ...
        -0.00970376557359291 -0.0129031702962224 -0.00797243776412956 ...
        0.00252864543886698 0.0119570812729567 0.0140728590184736 ...
        0.00747145894094059 -0.0033560908914443 -0.0112363744740503 ...
        -0.0114554670087417 -0.00496053814754298 0.00278751431827596 ...
        0.00635051203550402 0.00454412271152213 0.000922862184411987 ...
        0.000125785947511072 0.00322647404650719 0.00627017911138838 ...
        0.00367998227876804 -0.00600379561488961 -0.017066104186497 ...
        -0.0196736253474293 -0.00764750137748752 0.0148478113758789 ...
        0.033711145970965 0.0336463583434667 0.00987543598624957 ...
        -0.0258843018913049 -0.0508628107457202 -0.0458811218301971 ...
        -0.00968379132242933 0.0376103329369828 0.0658086364374628 ...
        0.0543005245413091 0.00703483621690834 -0.0480566081729145 ...
        -0.0759970806321631 -0.0575324399315222 -0.0025680121760879 ...
        0.0552167015286581 0.0796122454184365 0.0552167015286581 ...
        -0.0025680121760879 -0.0575324399315222 -0.0759970806321631 ...
        -0.0480566081729145 0.00703483621690834 0.0543005245413091 ...
        0.0658086364374628 0.0376103329369828 -0.00968379132242933 ...
        -0.0458811218301971 -0.0508628107457202 -0.0258843018913049 ...
        0.00987543598624957 0.0336463583434667 0.033711145970965 ...
        0.0148478113758789 -0.00764750137748752 -0.0196736253474293 ...
        -0.017066104186497 -0.00600379561488961 0.00367998227876804 ...
        0.00627017911138838 0.00322647404650719 0.000125785947511072 ...
        0.000922862184411987 0.00454412271152213 0.00635051203550402 ...
        0.00278751431827596 -0.00496053814754298 -0.0114554670087417 ...
        -0.0112363744740503 -0.0033560908914443 0.00747145894094059 ...
        0.0140728590184736 0.0119570812729567 0.00252864543886698 ...
        -0.00797243776412956 -0.0129031702962224 -0.00970376557359291 ...
        -0.00126506656386963 0.00654359612988034 0.009110960582999 ...
        0.00593824454073141 0.000281076788191381 -0.00374281213516307 ...
        -0.00415079938229163 -0.00201092384745905 7.7374496885481e-05 ...
        0.000396822721128097 -0.000613431604496047 -0.00111729947269276 ...
        0.00017766805159929 0.00265793018293046 0.00420087570072861 ...
        0.0029882153703272 -0.000791183539482887 -0.00479840607074337 ...
        -0.00615531675485322 -0.00360612394828739 0.00143036301519591 ...
        0.00574267168724788 0.00652242874449643 0.00328714314726872 ...
        -0.00182645299013494 -0.00555834697592745 -0.0057052363889199 ...
        -0.00247112036454263 0.00186020908560432 0.00457069867071805 ...
        0.00426178323604785 0.00155760544494842 -0.00156702894186104 ...
        -0.00321447344643007 -0.00271463993580872 -0.000807806024390072 ...
        0.00108894148423492 0.00189032466406618 0.00142704525747207 ...
        0.000321622229672623 -0.000605664639244076 -0.000920601344727944 ...
        -0.000848565318337091 0.000206907161252588]);
end

y = step(Hd,double(x));


% [EOF]
