function y = filterBand31Function(x)
%FILTERBAND31FUNCTION Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.4 and DSP System Toolbox 9.6.
% Generated on: 18-Jul-2018 11:58:15

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 40000;  % Sampling Frequency
    %
    % Fstop1 = 1000;            % First Stopband Frequency
    % Fpass1 = 1120;            % First Passband Frequency
    % Fpass2 = 1410;            % Second Passband Frequency
    % Fstop2 = 1600;            % Second Stopband Frequency
    % Dstop1 = 0.001;           % First Stopband Attenuation
    % Dpass  = 0.057501127785;  % Passband Ripple
    % Dstop2 = 0.001;           % Second Stopband Attenuation
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.000653916896396089 -0.000167653659683208 ...
        -0.000177438750880228 -0.000178823326944374 -0.00017061897417078 ...
        -0.000152019742760933 -0.000122699159733563 -8.28838249637812e-05 ...
        -3.33930277951897e-05 2.43390134244207e-05 8.82929044942191e-05 ...
        0.00015592051007555 0.000224230804055062 0.000289918044815965 ...
        0.000349494396534562 0.00039945536064736 0.000436437784004941 ...
        0.0004574088110688 0.000459844413468379 0.00044191518965649 ...
        0.000402652178984171 0.000342077942476496 0.00026128210604675 ...
        0.000162426356989537 4.86959095222635e-05 -7.58132991911684e-05 ...
        -0.000206206429780213 -0.000336935812755855 -0.000461961473566649 ...
        -0.000575021918986405 -0.000670002566661174 -0.000741365886362737 ...
        -0.000784483120289736 -0.000795691346395704 -0.000772234674408047 ...
        -0.000712603922663481 -0.000617599809630077 -0.000490484860065853 ...
        -0.000333027680665612 -0.000152387758608298 4.5498448689575e-05 ...
        0.00025242827063359 0.000459680530682303 0.000658033122270162 ...
        0.000838220964483708 0.000991364251525666 0.00110938943060946 ...
        0.00118545340215319 0.00121432073914141 0.00119267774171051 ...
        0.00111937305678737 0.000995546011588649 0.000824660974820076 ...
        0.000612417900303545 0.0003665845736675 9.67185953339276e-05 ...
        -0.000186195920961423 -0.000470209686178818 -0.000742944312359352 ...
        -0.000992168823801756 -0.00120636770909107 -0.00137525347724864 ...
        -0.00149025619681973 -0.00154495905317418 -0.00153550791840214 ...
        -0.00146086372434597 -0.00132288883030386 -0.00112624286292528 ...
        -0.000878244680439943 -0.000588724594117985 -0.000269640997220876 ...
        6.56362369770207e-05 0.00040299860947716 0.000727804973885003 ...
        0.00102557335609285 0.00128362272064401 0.00148997337885922 ...
        0.00163557478719755 0.00171363655462973 0.0017205048123732 ...
        0.00165564536798727 0.00152173974323341 0.00132457134151533 ...
        0.00107276630624153 0.000777414407363013 0.000451555585144325 ...
        0.000109563825982152 -0.000233529744840427 -0.000562745977414793 ...
        -0.000863844788636305 -0.00112399086064302 -0.00133234204524477 ...
        -0.00148056585170556 -0.00156322101819051 -0.00157798477383399 ...
        -0.00152571031195281 -0.00141034195882767 -0.0012387023193366 ...
        -0.00102012796808741 -0.000765973382079927 -0.000488970820214392 ...
        -0.000202583457042516 7.96590848918546e-05 0.000344794733043055 ...
        0.00058113420109724 0.000778881679866689 0.000930529981521043 ...
        0.00103112555754488 0.00107855788338061 0.00107368878746773 ...
        0.0010199952916857 0.000923344691742574 0.000791994217997521 ...
        0.000635361043884363 0.000464181362083153 0.000289313165092656 ...
        0.000121406837390916 -2.98618740675032e-05 -0.000156293571116298 ...
        -0.000251642924498658 -0.000311978060678708 -0.000335886599658249 ...
        -0.000324531447876007 -0.000281544122795082 -0.000212766795422803 ...
        -0.000125867729509665 -2.98369993268563e-05 6.55994507007134e-05 ...
        0.000150646104654061 0.000216102695250214 0.000253996769895345 ...
        0.000258140471538748 0.000224609464231308 0.000152106371067121 ...
        4.21632263306985e-05 -0.000100840747165861 -0.000269862475943647 ...
        -0.000455491832987001 -0.000646420509989801 -0.000830036451427039 ...
        -0.000993201319579717 -0.00112300281751027 -0.0012075093709373 ...
        -0.00123657404779324 -0.0012026031885853 -0.00110110202213913 ...
        -0.000931041808332345 -0.000695272960994683 -0.000400549362125306 ...
        -5.71891958356405e-05 0.00032091247080695 0.000717267432831759 ...
        0.0011132030572128 0.00148896476175492 0.00182458040188424 ...
        0.00210095018080099 0.00230087556388616 0.00241003967457581 ...
        0.00241787974744116 0.00231828627248641 0.00211010323722368 ...
        0.00179740123875015 0.00138949749039938 0.000900704245658324 ...
        0.000349794320402247 -0.000240756879294102 -0.000845737696412974 ...
        -0.00143832427634198 -0.00199133737617613 -0.00247855357899557 ...
        -0.00287599964637873 -0.00316315633957229 -0.00332402255975973 ...
        -0.00334802257664635 -0.00323063118348711 -0.00297372524324574 ...
        -0.00258559007332889 -0.00208071249641651 -0.00147919431739249 ...
        -0.000805867376339126 -8.9196370599328e-05 0.000639969691755692 ...
        0.00134984274051417 0.00200924076983198 0.00258896415662267 ...
        0.00306322928485888 0.00341100952857796 0.00361683429373882 ...
        0.00367179341149562 0.00357375773634853 0.00332765487180715 ...
        0.00294513937270026 0.00244407394194412 0.00184764147561967 ...
        0.00118321269856942 0.000481019966220858 -0.000227314656953882 ...
        -0.000910322201391794 -0.00153821978101899 -0.00208433898955435 ...
        -0.00252638346415018 -0.00284747282839797 -0.00303689856515771 ...
        -0.00309056198516202 -0.00301105344930001 -0.00280739227294602 ...
        -0.0024944380583825 -0.00209201061264193 -0.00162374297470391 ...
        -0.0011157316845538 -0.000595107048323318 -8.85446656690077e-05 ...
        0.00037916417168216 0.000786486762350586 0.00111622267308925 ...
        0.00135638818369368 0.00150078735767323 0.00154924561884984 ...
        0.00150745801978029 0.0013865329502418 0.00120225222636488 ...
        0.000973929671947318 0.000723165433266243 0.000472488248979565 ...
        0.000243744700622134 5.68118249601225e-05 -7.19045864545569e-05 ...
        -0.000130493432035492 -0.000112503789024978 -1.7455169505934e-05 ...
        0.000148948954942436 0.000375002453861323 0.000643568277524142 ...
        0.000933014449179261 0.00121846374577218 0.00147328362427144 ...
        0.00167075752904502 0.00178584313863329 0.0017969053457902 ...
        0.00168733138506231 0.00144691866767207 0.0010729652491885 ...
        0.00057097602402954 -4.50710783120066e-05 -0.000752952623971899 ...
        -0.00152290381286598 -0.0023187710575377 -0.00309961573972184 ...
        -0.00382166495629034 -0.00444056485027238 -0.00491371499199067 ...
        -0.00520274982642037 -0.00527584988548006 -0.00510987354056804 ...
        -0.00469213178810027 -0.00402175312110381 -0.00311048289045206 ...
        -0.00198283245857718 -0.000675689750772305 0.000762802247971657 ...
        0.00227500061889907 0.0037959660335056 0.00525634109077539 ...
        0.00658535957389416 0.00771428402479615 0.00857973118996284 ...
        0.00912701999657096 0.0093131935115906 0.00910962460054781 ...
        0.00850404974364202 0.0075019192567667 0.00612696681629476 ...
        0.00442092638341365 0.00244239809779977 0.000264881542531617 ...
        -0.00202596298441121 -0.0043357192483577 -0.00656516203591205 ...
        -0.00861456799915729 -0.0103882006945187 -0.0117987575965718 ...
        -0.0127715994618434 -0.013248542591547 -0.0131910109976808 ...
        -0.0125824131935173 -0.0114295810437481 -0.00976323639845877 ...
        -0.00763730964110526 -0.0051273168057775 -0.00232761999140104 ...
        0.000652166189378233 0.00369159116173008 0.0066643321363848 ...
        0.00944355245368662 0.011907463428372 0.0139447051225676 ...
        0.0154594550063581 0.0163759622479478 0.0166422151745516 ...
        0.0162327726780151 0.0151503297867502 0.0134262390057705 ...
        0.0111196334260745 0.00831543191809903 0.00512113237743257 ...
        0.00166257861231267 -0.00192114897667749 -0.0054834882039523 ...
        -0.00887655450581481 -0.0119574542417023 -0.014594458701942 ...
        -0.0166727765620724 -0.0180996621770922 -0.0188086219233352 ...
        -0.0187625321850403 -0.0179555243599757 -0.0164135427642985 ...
        -0.0141935224954919 -0.0113812337841769 -0.0080878656900583 ...
        -0.00444548342793306 -0.000601571560087981 0.0032871343019555 ...
        0.00706120295120365 0.010565309008907 0.0136547512214688 ...
        0.0162016628344278 0.0181004176007438 0.0192721805477561 ...
        0.019668261168921 0.0192721805477561 0.0181004176007438 ...
        0.0162016628344278 0.0136547512214688 0.010565309008907 ...
        0.00706120295120365 0.0032871343019555 -0.000601571560087981 ...
        -0.00444548342793306 -0.0080878656900583 -0.0113812337841769 ...
        -0.0141935224954919 -0.0164135427642985 -0.0179555243599757 ...
        -0.0187625321850403 -0.0188086219233352 -0.0180996621770922 ...
        -0.0166727765620724 -0.014594458701942 -0.0119574542417023 ...
        -0.00887655450581481 -0.0054834882039523 -0.00192114897667749 ...
        0.00166257861231267 0.00512113237743257 0.00831543191809903 ...
        0.0111196334260745 0.0134262390057705 0.0151503297867502 ...
        0.0162327726780151 0.0166422151745516 0.0163759622479478 ...
        0.0154594550063581 0.0139447051225676 0.011907463428372 ...
        0.00944355245368662 0.0066643321363848 0.00369159116173008 ...
        0.000652166189378233 -0.00232761999140104 -0.0051273168057775 ...
        -0.00763730964110526 -0.00976323639845877 -0.0114295810437481 ...
        -0.0125824131935173 -0.0131910109976808 -0.013248542591547 ...
        -0.0127715994618434 -0.0117987575965718 -0.0103882006945187 ...
        -0.00861456799915729 -0.00656516203591205 -0.0043357192483577 ...
        -0.00202596298441121 0.000264881542531617 0.00244239809779977 ...
        0.00442092638341365 0.00612696681629476 0.0075019192567667 ...
        0.00850404974364202 0.00910962460054781 0.0093131935115906 ...
        0.00912701999657096 0.00857973118996284 0.00771428402479615 ...
        0.00658535957389416 0.00525634109077539 0.0037959660335056 ...
        0.00227500061889907 0.000762802247971657 -0.000675689750772305 ...
        -0.00198283245857718 -0.00311048289045206 -0.00402175312110381 ...
        -0.00469213178810027 -0.00510987354056804 -0.00527584988548006 ...
        -0.00520274982642037 -0.00491371499199067 -0.00444056485027238 ...
        -0.00382166495629034 -0.00309961573972184 -0.0023187710575377 ...
        -0.00152290381286598 -0.000752952623971899 -4.50710783120066e-05 ...
        0.00057097602402954 0.0010729652491885 0.00144691866767207 ...
        0.00168733138506231 0.0017969053457902 0.00178584313863329 ...
        0.00167075752904502 0.00147328362427144 0.00121846374577218 ...
        0.000933014449179261 0.000643568277524142 0.000375002453861323 ...
        0.000148948954942436 -1.7455169505934e-05 -0.000112503789024978 ...
        -0.000130493432035492 -7.19045864545569e-05 5.68118249601225e-05 ...
        0.000243744700622134 0.000472488248979565 0.000723165433266243 ...
        0.000973929671947318 0.00120225222636488 0.0013865329502418 ...
        0.00150745801978029 0.00154924561884984 0.00150078735767323 ...
        0.00135638818369368 0.00111622267308925 0.000786486762350586 ...
        0.00037916417168216 -8.85446656690077e-05 -0.000595107048323318 ...
        -0.0011157316845538 -0.00162374297470391 -0.00209201061264193 ...
        -0.0024944380583825 -0.00280739227294602 -0.00301105344930001 ...
        -0.00309056198516202 -0.00303689856515771 -0.00284747282839797 ...
        -0.00252638346415018 -0.00208433898955435 -0.00153821978101899 ...
        -0.000910322201391794 -0.000227314656953882 0.000481019966220858 ...
        0.00118321269856942 0.00184764147561967 0.00244407394194412 ...
        0.00294513937270026 0.00332765487180715 0.00357375773634853 ...
        0.00367179341149562 0.00361683429373882 0.00341100952857796 ...
        0.00306322928485888 0.00258896415662267 0.00200924076983198 ...
        0.00134984274051417 0.000639969691755692 -8.9196370599328e-05 ...
        -0.000805867376339126 -0.00147919431739249 -0.00208071249641651 ...
        -0.00258559007332889 -0.00297372524324574 -0.00323063118348711 ...
        -0.00334802257664635 -0.00332402255975973 -0.00316315633957229 ...
        -0.00287599964637873 -0.00247855357899557 -0.00199133737617613 ...
        -0.00143832427634198 -0.000845737696412974 -0.000240756879294102 ...
        0.000349794320402247 0.000900704245658324 0.00138949749039938 ...
        0.00179740123875015 0.00211010323722368 0.00231828627248641 ...
        0.00241787974744116 0.00241003967457581 0.00230087556388616 ...
        0.00210095018080099 0.00182458040188424 0.00148896476175492 ...
        0.0011132030572128 0.000717267432831759 0.00032091247080695 ...
        -5.71891958356405e-05 -0.000400549362125306 -0.000695272960994683 ...
        -0.000931041808332345 -0.00110110202213913 -0.0012026031885853 ...
        -0.00123657404779324 -0.0012075093709373 -0.00112300281751027 ...
        -0.000993201319579717 -0.000830036451427039 -0.000646420509989801 ...
        -0.000455491832987001 -0.000269862475943647 -0.000100840747165861 ...
        4.21632263306985e-05 0.000152106371067121 0.000224609464231308 ...
        0.000258140471538748 0.000253996769895345 0.000216102695250214 ...
        0.000150646104654061 6.55994507007134e-05 -2.98369993268563e-05 ...
        -0.000125867729509665 -0.000212766795422803 -0.000281544122795082 ...
        -0.000324531447876007 -0.000335886599658249 -0.000311978060678708 ...
        -0.000251642924498658 -0.000156293571116298 -2.98618740675032e-05 ...
        0.000121406837390916 0.000289313165092656 0.000464181362083153 ...
        0.000635361043884363 0.000791994217997521 0.000923344691742574 ...
        0.0010199952916857 0.00107368878746773 0.00107855788338061 ...
        0.00103112555754488 0.000930529981521043 0.000778881679866689 ...
        0.00058113420109724 0.000344794733043055 7.96590848918546e-05 ...
        -0.000202583457042516 -0.000488970820214392 -0.000765973382079927 ...
        -0.00102012796808741 -0.0012387023193366 -0.00141034195882767 ...
        -0.00152571031195281 -0.00157798477383399 -0.00156322101819051 ...
        -0.00148056585170556 -0.00133234204524477 -0.00112399086064302 ...
        -0.000863844788636305 -0.000562745977414793 -0.000233529744840427 ...
        0.000109563825982152 0.000451555585144325 0.000777414407363013 ...
        0.00107276630624153 0.00132457134151533 0.00152173974323341 ...
        0.00165564536798727 0.0017205048123732 0.00171363655462973 ...
        0.00163557478719755 0.00148997337885922 0.00128362272064401 ...
        0.00102557335609285 0.000727804973885003 0.00040299860947716 ...
        6.56362369770207e-05 -0.000269640997220876 -0.000588724594117985 ...
        -0.000878244680439943 -0.00112624286292528 -0.00132288883030386 ...
        -0.00146086372434597 -0.00153550791840214 -0.00154495905317418 ...
        -0.00149025619681973 -0.00137525347724864 -0.00120636770909107 ...
        -0.000992168823801756 -0.000742944312359352 -0.000470209686178818 ...
        -0.000186195920961423 9.67185953339276e-05 0.0003665845736675 ...
        0.000612417900303545 0.000824660974820076 0.000995546011588649 ...
        0.00111937305678737 0.00119267774171051 0.00121432073914141 ...
        0.00118545340215319 0.00110938943060946 0.000991364251525666 ...
        0.000838220964483708 0.000658033122270162 0.000459680530682303 ...
        0.00025242827063359 4.5498448689575e-05 -0.000152387758608298 ...
        -0.000333027680665612 -0.000490484860065853 -0.000617599809630077 ...
        -0.000712603922663481 -0.000772234674408047 -0.000795691346395704 ...
        -0.000784483120289736 -0.000741365886362737 -0.000670002566661174 ...
        -0.000575021918986405 -0.000461961473566649 -0.000336935812755855 ...
        -0.000206206429780213 -7.58132991911684e-05 4.86959095222635e-05 ...
        0.000162426356989537 0.00026128210604675 0.000342077942476496 ...
        0.000402652178984171 0.00044191518965649 0.000459844413468379 ...
        0.0004574088110688 0.000436437784004941 0.00039945536064736 ...
        0.000349494396534562 0.000289918044815965 0.000224230804055062 ...
        0.00015592051007555 8.82929044942191e-05 2.43390134244207e-05 ...
        -3.33930277951897e-05 -8.28838249637812e-05 -0.000122699159733563 ...
        -0.000152019742760933 -0.00017061897417078 -0.000178823326944374 ...
        -0.000177438750880228 -0.000167653659683208 -0.000653916896396089]);
end

y = step(Hd,double(x));


% [EOF]
